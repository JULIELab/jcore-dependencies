<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Thu Jun 23 19:27:27 EDT 2011 -->
<TITLE>
TagLattice (LingPipe API)
</TITLE>

<META NAME="date" CONTENT="2011-06-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TagLattice (LingPipe API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/aliasi/tag/Tagging.html" title="class in com.aliasi.tag"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/aliasi/tag/TagLattice.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TagLattice.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.aliasi.tag</FONT>
<BR>
Class TagLattice&lt;E&gt;</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.aliasi.tag.TagLattice&lt;E&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>E</CODE> - Type of tokens in the lattice.</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../com/aliasi/crf/ForwardBackwardTagLattice.html" title="class in com.aliasi.crf">ForwardBackwardTagLattice</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>TagLattice&lt;E&gt;</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
The abstract base class <code>TagLattice</code> provides an interface
 for the output of a marginal tagger, based on forward, backward,
 and transition log potentials.  The allowance of general potentials
 makes this interface suitable for the output of either hidden
 Markov models (HMM) or linear chain conditional random fields
 (CRF).

 <h3>Marginal Tag Probabilities</h3>

 <p>The forward, backward, and normalizing terms are used to define
 the marginal probability of a single tag at a specified position
 given the inputs:

 <blockquote><pre>
 p(tag[n]=k | toks[0],...,toks[N-1])
 &nbsp;&nbsp;&nbsp;= fwd(n,k) * bk(n,k) / Z</pre></blockquote>

 To avoid problems with overflow, natural log values are
 used.  On the log scale,

 <blockquote><pre>
 log p(tag[n]=k | toks[0],...,toks[N-1])
 &nbsp;&nbsp;&nbsp;= log fwd(n,k) + log bk(n,k) - log Z</pre></blockquote>

 <b>Warning:</b> No checks are made to ensure that values
 supplied to the constructor form a coherent probability
 estimate.

 <h3>Marginal Tag Sequence Probabilities</h3>

 <p>This allows us to compute the probability of a sequence of tags,
 for instance for a phrase, by:

 <blockquote><pre>
 p(tag[n]=k0, tag[n+1]=k1, ..., tag[n+m]=km | toks)
 &nbsp;&nbsp;&nbsp;= fwd(n,k0) * bk(n+m,km) * <big><big>&Pi;</big></big><sub>i &lt; m</sub> trans(n+i,tags[n+i],tags[n+i+1]) / Z</pre></blockquote>
 On the log scale, this becomes:

 <blockquote><pre>
 log p(tag[n]=k0, tag[n+1]=k1, ..., tag[n+m]=km | toks)
 &nbsp;&nbsp;&nbsp;= log fwd(n,k0) + log bk(n+m,km) * <big><big>&Sigma;</big></big><sub>i &lt; m</sub> log trans(n+i,tags[n+i],tags[n+i+1]) - log Z</pre></blockquote>


 The log of this value returned by <A HREF="../../../com/aliasi/tag/TagLattice.html#logProbability(int, int[])"><CODE>logProbability(int,int[])</CODE></A>, where
 the first argument is <code>n</code> and the second argument
 <code>{k0,k1,...,km}</code>.


 <h3>Linear Probabilities</h3>

 Linear probabilities (or potentials) are computed by exponentiating
 the log probabilities returned by the various methods.


 <h3>Transition Potentials</h3>

 <p>The transitions are defined by:

 <blockquote><pre>
 trans(n,k1,k2) = &phi;(tag[n]=k2|tag[n-1]=k1)</pre></blockquote>

 where <code>&phi;</code> is the transition potential from the
 tag k1 at position n-1 to tag k2 at position n.
 The log of this value is returned by <A HREF="../../../com/aliasi/tag/TagLattice.html#logTransition(int, int, int)"><CODE>logTransition(int,int,int)</CODE></A>,
 where the first argument is <code>n</code> and the second two <code>k1</code>
 and <code>k2</code>.

 <h3>Forward Potentials</h3>

 <p>The forward values are defined by:

 <blockquote><pre>
 log fwd(0,k) = init(k)</pre></blockquote>

 where <code>init(k)</code> is the start potential, defined on an
 application-specific basis.  The recursive step defines the forward
 values for subsequent positions 0 &lt; n &lt; N& and tags k

 <blockquote><pre>
 fwd(n,k) = <big><big>&Sigma;</big></big><sub>k'</sub> fwd(n-1,k') * trans(n-1,k,k')</pre></blockquote>

 This is typically computed for all n and k in n*k time using the
 forward algorithm.

 <p>The log of this value is returned by <A HREF="../../../com/aliasi/tag/TagLattice.html#logForward(int, int)"><CODE>logForward(int,int)</CODE></A>
 where the first argument is <code>n</code> and the second <code>k</code>.

 <h3>Backward Potentials</h3>

 <p>The backward potentials are similar, but condition on rather
 than predict the label.  This simplifies the basis of the
 recursion to

 <blockquote><pre>
 bk(N-1,k) = 1.0</pre></blockquote>

 where N is the length of the input (number of tokens).  The
 recursive step for 0 &lt;= n &lt; N-1 is

 <blockquote><pre>
 bk(n,k) = <big><big>&Sigma;</big></big><sub>k'</sub> trans(n,k,k') * bk(n+1,k')</pre></blockquote>

 The log of this value is returned by <A HREF="../../../com/aliasi/tag/TagLattice.html#logBackward(int, int)"><CODE>logBackward(int,int)</CODE></A>
 where the first argument is <code>n</code> and the second <code>k</code>.

 <h3>Normalizer</h3>

 <p>The normalizer is the sum over all paths, and acts to
 normalize sequences to probabilities.  It may be computed
 by:

 <blockquote><pre>
 Z = <big><big>&Sigma;</big></big><sub>k</sub> fwd(N-1,k)</pre></blockquote>

 The log of this value is returned by <A HREF="../../../com/aliasi/tag/TagLattice.html#logZ()"><CODE>logZ()</CODE></A>.


 <h3>Probabilistic Lattices</h3>

 <p>In some settings, such as hidden Markov models (HMMs) the
 forward, backward, transition and normalizer may be interpreted as
 probabilities.

 <blockquote><pre>
 trans(n,k1,k2) = p(tag[n]=k2|tag[n-1]=k1)</pre></blockquote>

 <blockquote><pre>
 fwd(n,k) = p(label[n]=k, toks[0], ..., toks[n])</pre></blockquote>
 </pre></blockquote>

 <blockquote><pre>
 bk(n,k) = p(toks[n+1],...,toks[N-1] | label[n]=k)</pre></blockquote>

 <blockquote><pre>
 Z = p(toks[0],...,toks[N-1])</pre></blockquote>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>LingPipe3.9</DD>
<DT><B>Version:</B></DT>
  <DD>3.9</DD>
<DT><B>Author:</B></DT>
  <DD>Bob Carpenter</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#TagLattice()">TagLattice</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct an empty tag lattice.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logBackward(int, int)">logBackward</A></B>(int&nbsp;token,
            int&nbsp;tag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the log of the backward probability to the specified
 token and tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logForward(int, int)">logForward</A></B>(int&nbsp;token,
           int&nbsp;tag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the log of the forward probability of the specified tag
 at the specified position.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logProbability(int, int)">logProbability</A></B>(int&nbsp;n,
               int&nbsp;tag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method returning the log of the conditional
 probability that the specified token has the specified tag,
 given the complete list of input tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logProbability(int, int[])">logProbability</A></B>(int&nbsp;nFrom,
               int[]&nbsp;tags)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the log conditional probability that the tokens starting
 with the specified token position have the specified tags given
 the complete sequence of input tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logProbability(int, int, int)">logProbability</A></B>(int&nbsp;nTo,
               int&nbsp;tagFrom,
               int&nbsp;tagTo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method returning the log of the conditional
 probability that the specified two tokens have the specified
 tag given the complete list of input tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logTransition(int, int, int)">logTransition</A></B>(int&nbsp;tokenFrom,
              int&nbsp;tagFrom,
              int&nbsp;tagTo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the log of the transition probability from the specified
 input token position with the specified previous tag to the
 specified target tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#logZ()">logZ</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the log of the normalizing constant for the lattice.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#numTags()">numTags</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of tags in this tag lattice.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#numTokens()">numTokens</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the length of this tag lattice as measured
 by number of tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#tag(int)">tag</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the tag with the specified symbol identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#tagList()">tagList</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an unmodifiable view of the list of tags
 used in this lattice, indexed by identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#tagSymbolTable()">tagSymbolTable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a symbol table which converts tags to identifiers and
 vice-versa.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../../../com/aliasi/tag/TagLattice.html" title="type parameter in TagLattice">E</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#token(int)">token</A></B>(int&nbsp;n)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the token at the specified position in the input.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/classify/ConditionalClassification.html" title="class in com.aliasi.classify">ConditionalClassification</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#tokenClassification(int)">tokenClassification</A></B>(int&nbsp;tokenIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the classification of the token at the specified position
 in this tag lattice.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/tag/TagLattice.html" title="type parameter in TagLattice">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/tag/TagLattice.html#tokenList()">tokenList</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return an unmodifiable view of the underlying tokens for this
 tag lattice.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TagLattice()"><!-- --></A><H3>
TagLattice</H3>
<PRE>
public <B>TagLattice</B>()</PRE>
<DL>
<DD>Construct an empty tag lattice.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="tokenList()"><!-- --></A><H3>
tokenList</H3>
<PRE>
public abstract <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/tag/TagLattice.html" title="type parameter in TagLattice">E</A>&gt; <B>tokenList</B>()</PRE>
<DL>
<DD>Return an unmodifiable view of the underlying tokens for this
 tag lattice.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The tokens for this lattice.</DL>
</DD>
</DL>
<HR>

<A NAME="tagList()"><!-- --></A><H3>
tagList</H3>
<PRE>
public abstract <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt; <B>tagList</B>()</PRE>
<DL>
<DD>Returns an unmodifiable view of the list of tags
 used in this lattice, indexed by identifier.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The symbol table for tags.</DL>
</DD>
</DL>
<HR>

<A NAME="tag(int)"><!-- --></A><H3>
tag</H3>
<PRE>
public abstract <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>tag</B>(int&nbsp;id)</PRE>
<DL>
<DD>Return the tag with the specified symbol identifier.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Identifer for tag.
<DT><B>Returns:</B><DD>Tag with specified ID.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</A></CODE> - If the specified identifier is
 not in range for the list of tags.</DL>
</DD>
</DL>
<HR>

<A NAME="numTags()"><!-- --></A><H3>
numTags</H3>
<PRE>
public abstract int <B>numTags</B>()</PRE>
<DL>
<DD>Return the number of tags in this tag lattice.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Number of tags for this tag lattice.</DL>
</DD>
</DL>
<HR>

<A NAME="token(int)"><!-- --></A><H3>
token</H3>
<PRE>
public abstract <A HREF="../../../com/aliasi/tag/TagLattice.html" title="type parameter in TagLattice">E</A> <B>token</B>(int&nbsp;n)</PRE>
<DL>
<DD>Return the token at the specified position in the input.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>n</CODE> - Input position.
<DT><B>Returns:</B><DD>Token at position.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</A></CODE> - If the specified index is
 not in range for the list of tokens.</DL>
</DD>
</DL>
<HR>

<A NAME="numTokens()"><!-- --></A><H3>
numTokens</H3>
<PRE>
public abstract int <B>numTokens</B>()</PRE>
<DL>
<DD>Returns the length of this tag lattice as measured
 by number of tokens.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Number of tokens in this lattice.</DL>
</DD>
</DL>
<HR>

<A NAME="tagSymbolTable()"><!-- --></A><H3>
tagSymbolTable</H3>
<PRE>
public abstract <A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A> <B>tagSymbolTable</B>()</PRE>
<DL>
<DD>Returns a symbol table which converts tags to identifiers and
 vice-versa.  

 <p>A new symbol table is constructed for each call, so it
 should be saved and reused if possible.  Changing the returned
 symbol table will not affect this lattice.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Symbol table for tags in this lattice.</DL>
</DD>
</DL>
<HR>

<A NAME="logProbability(int, int)"><!-- --></A><H3>
logProbability</H3>
<PRE>
public abstract double <B>logProbability</B>(int&nbsp;n,
                                      int&nbsp;tag)</PRE>
<DL>
<DD>Convenience method returning the log of the conditional
 probability that the specified token has the specified tag,
 given the complete list of input tokens.

 <p>This method returns results defined by

 <blockquote><pre>
 logProbability(n,tag)
     == logProbability(n,new int[] { tag })</pre></blockquote>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>n</CODE> - Position of input token.<DD><CODE>tag</CODE> - Identifier of tag.
<DT><B>Returns:</B><DD>The log probability the token has the tag.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ArrayIndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">ArrayIndexOutOfBoundsException</A></CODE> - If the token or tag
 identifiers are not in range.</DL>
</DD>
</DL>
<HR>

<A NAME="logProbability(int, int, int)"><!-- --></A><H3>
logProbability</H3>
<PRE>
public abstract double <B>logProbability</B>(int&nbsp;nTo,
                                      int&nbsp;tagFrom,
                                      int&nbsp;tagTo)</PRE>
<DL>
<DD>Convenience method returning the log of the conditional
 probability that the specified two tokens have the specified
 tag given the complete list of input tokens.

 <p>This method returns results defined by

 <blockquote><pre>
 logProbability(nTo,tagFrom,tagTo) 
     == logProbability(n-1,new int[] { tagFrom, tagTo })</pre></blockquote>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nTo</CODE> - Position of second token.<DD><CODE>tagFrom</CODE> - First Tag from which transition is made.<DD><CODE>tagTo</CODE> - Second Tag to which transition is made.
<DT><B>Returns:</B><DD>Log probability of the tags at the specified position.</DL>
</DD>
</DL>
<HR>

<A NAME="logProbability(int, int[])"><!-- --></A><H3>
logProbability</H3>
<PRE>
public abstract double <B>logProbability</B>(int&nbsp;nFrom,
                                      int[]&nbsp;tags)</PRE>
<DL>
<DD>Return the log conditional probability that the tokens starting
 with the specified token position have the specified tags given
 the complete sequence of input tokens.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nFrom</CODE> - Starting position of sequence.<DD><CODE>tags</CODE> - Tag identifiers for sequence.
<DT><B>Returns:</B><DD>Log probability that sequence starting at the specified
 position has the specified tags.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - If the token is out of range or
 the token plus the length of the tag sequence is out of range of
 tokens, or if any of the tags is not a known identifier.</DL>
</DD>
</DL>
<HR>

<A NAME="logForward(int, int)"><!-- --></A><H3>
logForward</H3>
<PRE>
public abstract double <B>logForward</B>(int&nbsp;token,
                                  int&nbsp;tag)</PRE>
<DL>
<DD>Return the log of the forward probability of the specified tag
 at the specified position.  The forward probability is the sum
 of the joint probabilities of all sequences from the initial token
 to the specified token ending with the specified tag.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - Token position.<DD><CODE>tag</CODE> - Tag identifier.
<DT><B>Returns:</B><DD>Log forward probability specified token has specified
 tag.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ArrayIndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">ArrayIndexOutOfBoundsException</A></CODE> - If the token or tag index are
 out of bounds for this lattice's tokens or tags.</DL>
</DD>
</DL>
<HR>

<A NAME="logBackward(int, int)"><!-- --></A><H3>
logBackward</H3>
<PRE>
public abstract double <B>logBackward</B>(int&nbsp;token,
                                   int&nbsp;tag)</PRE>
<DL>
<DD>Returns the log of the backward probability to the specified
 token and tag.  The backward probability is the sum of the
 joint probabilities of all sequences starting from the
 specified token and specified tag and going to the end of
 the list of tokens.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - Input token position.<DD><CODE>tag</CODE> - Tag identifier.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ArrayIndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">ArrayIndexOutOfBoundsException</A></CODE> - If the token or tag index are
 out of bounds for this lattice's tokens or tags.</DL>
</DD>
</DL>
<HR>

<A NAME="logTransition(int, int, int)"><!-- --></A><H3>
logTransition</H3>
<PRE>
public abstract double <B>logTransition</B>(int&nbsp;tokenFrom,
                                     int&nbsp;tagFrom,
                                     int&nbsp;tagTo)</PRE>
<DL>
<DD>Returns the log of the transition probability from the specified
 input token position with the specified previous tag to the
 specified target tag.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokenFrom</CODE> - Token position from which the transition is
 made.<DD><CODE>tagFrom</CODE> - Identifier for the previous tag from which the
 transition is made.<DD><CODE>tagTo</CODE> - Tag identifier for the target tag to which the
 the transition is made.
<DT><B>Returns:</B><DD>Log probability of the transition.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ArrayIndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">ArrayIndexOutOfBoundsException</A></CODE> - If the token index or
 either of the tag indexes are out of bounds for this lattice's
 tokens or tags.</DL>
</DD>
</DL>
<HR>

<A NAME="logZ()"><!-- --></A><H3>
logZ</H3>
<PRE>
public abstract double <B>logZ</B>()</PRE>
<DL>
<DD>Return the log of the normalizing constant for the lattice.
 Its value is the log of the marginal probability of the input
 tokens.  By the additive law of probability, this is equivalent
 to the sum of the probabilities of all possible analyses for
 the input sequence
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The normalizing constant.</DL>
</DD>
</DL>
<HR>

<A NAME="tokenClassification(int)"><!-- --></A><H3>
tokenClassification</H3>
<PRE>
public <A HREF="../../../com/aliasi/classify/ConditionalClassification.html" title="class in com.aliasi.classify">ConditionalClassification</A> <B>tokenClassification</B>(int&nbsp;tokenIndex)</PRE>
<DL>
<DD>Returns the classification of the token at the specified position
 in this tag lattice.  Tag probabilities are conditional probabilities
 of a tag given the entire sequence of input tokens.  The tags
 are represented in their string form.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokenIndex</CODE> - Position of token to classify.
<DT><B>Returns:</B><DD>Classification of token in terms of tags.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/aliasi/tag/Tagging.html" title="class in com.aliasi.tag"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/aliasi/tag/TagLattice.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TagLattice.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
