<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Thu Jun 23 19:27:26 EDT 2011 -->
<TITLE>
ChainCrf (LingPipe API)
</TITLE>

<META NAME="date" CONTENT="2011-06-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ChainCrf (LingPipe API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../com/aliasi/crf/ChainCrfChunker.html" title="class in com.aliasi.crf"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/aliasi/crf/ChainCrf.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ChainCrf.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.aliasi.crf</FONT>
<BR>
Class ChainCrf&lt;E&gt;</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.aliasi.crf.ChainCrf&lt;E&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>E</CODE> - Type of tokens in the tagging.</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../com/aliasi/tag/MarginalTagger.html" title="interface in com.aliasi.tag">MarginalTagger</A>&lt;E&gt;, <A HREF="../../../com/aliasi/tag/NBestTagger.html" title="interface in com.aliasi.tag">NBestTagger</A>&lt;E&gt;, <A HREF="../../../com/aliasi/tag/Tagger.html" title="interface in com.aliasi.tag">Tagger</A>&lt;E&gt;, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ChainCrf&lt;E&gt;</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../com/aliasi/tag/Tagger.html" title="interface in com.aliasi.tag">Tagger</A>&lt;E&gt;, <A HREF="../../../com/aliasi/tag/NBestTagger.html" title="interface in com.aliasi.tag">NBestTagger</A>&lt;E&gt;, <A HREF="../../../com/aliasi/tag/MarginalTagger.html" title="interface in com.aliasi.tag">MarginalTagger</A>&lt;E&gt;, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A></DL>
</PRE>

<P>
The <code>ChainCrf&lt;E&gt;</code> class implements linear chain conditional
 random field decoding and estimation for input token sequences of
 type <code>E</code>.

 <p>The cliques of the graphical model are typically called nodes
 and edges in a chain CRF.  A node consists of a token position,
 the rest of the input tokens, whereas an edge adds the previous
 tag.  A CRF feature extractor converts nodes and edges to
 feature maps, which are then converted to vectors for use in
 CRFs.

 <h3>Components of Linear Chain Conditional Random Fields</h3>

 A linear-chain conditional random field (CRF) assigns tags to each
 element of an input sequence of items, which we call tokens.  The
 inputs may be strings, or any kind of structured objects.

 <p>First, we suppose a fixed, finite set of <code>K</code> tags <code>tags[0],...,tags[K-1]</code> which may be assigned to tokens as part of a
 tagging.  The coeffcient matrix <code>&beta;</code> consists of
 <code>K</code> coefficient vectors,
 <code>&beta;[0],...,&beta;[K-1]</code>, one for each tag.

 <p>Second, we assume a pair of feature extractors, one for nodes in
 the graphical model and one for edges.  The node feature extractor
 <code>&phi;<sub>0</sub></code> maps sequences <code>xs</code> of input
 tokens and a position <code>n</code> in that sequence (<code>0 &lt;= n &lt;
 xs.length</code>) into a feature map <code>&phi;<sub>0</sub>(xs,n)</code>.

 <p>The edge feature extractor <code>&phi;<sub>1</sub></code> maps
 input token sequences <code>xs</code>, a position <code>n</code> in that
 sequence, and previous tag <code>tags[k]</code> to a feature
 map <code>&phi;<sub>1</sub>(xs,n,tags[k])<code>.

 <p>The combined features extracted for input token sequence <code>xs</code>, position <code>n</code> in that sequence, and tag <code>tags[k]</code> are:
 defined by:

 <blockquote><pre>&phi;(xs,0,tags[k]) = &phi;<sub>0</sub>(xs,0)</pre></blockquote>
 <blockquote><pre>&phi;(xs,n,tags[k]) = &phi;<sub>0</sub>(xs,n) + &phi;<sub>1</sub>(xs,n,tags[k]) for n &gt; 0</pre></blockquote>

 The special case for position 0 is because there is no previous
 tag.  Note that boundary features (begin-of-sequence, end-of-sequence)
 may be defined in <code>&phi;<sub>0</sub></code> because it knows
 the position and length of input.

 <h3>Tag Sequence Probability</h3>

 <p>The probability model assumes a fixed sequence of input tokens
 <code>xs[0],...,xs[N-1]</code> of length <code>N</code>.  The model assigns
 a conditional probability to sequences of tag indices
 <code>ys[0],...,ys[N-1]</code>  (where <code>0 &lt;= ys[n] &lt; tags.length</code>),
 by:

 <blockquote><pre>
 p(ys|ws) &prop; exp<big><big>(&Sigma;</big></big><sub>n &lt; N</sub> &phi;(xs,n,tags[ys[n-1]])&sdot;&beta;[ys[n]]<big><big>)</big></big></pre></blockquote>

 where the sum is over the dot product of the feature vector
 <code>&phi;(xs,n,tags[ys[n-1]])</code> extracted for the input
 sequence of tokens <code>xs</code> at position <code>n</code> and
 previous tag <code>tags[ys[n-1]]</code> with index <code>ys[n-1]</code>,
 and the coefficient for output tag <code>tags[ys[n]]</code>,
 namely <code>&beta;[tags[ys[n]]</code>.

 <h3>Note on Factored Coefficients</h3>

 <p>Note that this presentation of CRFs is a bit non-standard.  In
 particular, LingPipe has factored what is usually a single large
 coefficient vector into one vector per output tag.  This somewhat
 restricts the kinds of features that may be extracted so that each
 feature depends on a specific output tag.  The reason this is done
 is for efficiency.  Note that the node feature extractor
 <code>&phi;<sub>0</sub>(xs,n)</code> could be rolled into the more
 general edge feature extractor
 <code>&phi;<sub>1</sub>(xs,n,t)</code>; the node feature extractor
 is only for efficiency, allowing features shared for all previous
 tags <code>t</code> to be extracted only once.

 <h3>Legal Tags: Structural Zeros</h3>

 <p>The more verbose constructor for chain CRFs takes three array
 arguments which indicate which tags are legal in which positions.
 The shorter convenience constructor implicitly assumes any tag may
 occur anywhere.  The legal start tag array indicates if a tag may
 start a tagging.  The legal end tag array indicates if a tag may
 be the last tag in a tagging.  The legal transition array indicates
 for a pair of tags if one may follow the other.

 <p>These are typically used when chunkers are encoded as taggers,
 and some sequences of tags are structurally illegal.  These are
 called structural zeros in statistical modeling terms.

 <p>During estimation, these may be computed by specifying


 <h3>First-Best Output: Viterbi</h3>

 First-best output is calculated very efficiently in linear time
 in the size of the inputs using the Viterbi algorithm, a form
 of dynamic programming applicable to sequence tagging.   Note that
 the normalizing constant does not need to be computed.  This
 functionality is avaiable through the method <A HREF="../../../com/aliasi/crf/ChainCrf.html#tag(java.util.List)"><CODE>tag(List)</CODE></A>
 of the <A HREF="../../../com/aliasi/tag/Tagger.html" title="interface in com.aliasi.tag"><CODE>Tagger</CODE></A> interface.

 <h3>N-Best Sequence Output: Viterbi Forward, A<sup>*</sup> Backward</h3>

 N-best output may be calculated in one linear forward pass and an
 efficient backward pass.  The forward pass computes and stores the
 full Viterbi lattice consisting of the best analysis and score up
 to a given token for a given tag.  The backward pass uses the
 A<sup>*</sup> algorithm with the Viterbi scores as exact completion
 estimates.  This allows n-best analyses to be returned in
 order, with at most a constant amount of work per result.

 <p>N-best functionality is available through the method
 <A HREF="../../../com/aliasi/crf/ChainCrf.html#tagNBest(java.util.List, int)"><CODE>tagNBest(List,int)</CODE></A> of the <A HREF="../../../com/aliasi/tag/NBestTagger.html" title="interface in com.aliasi.tag"><CODE>NBestTagger</CODE></A>
 interface.  This returns an iterator over scored tagging
 instances.  The scores are the unnormalized products defined
 above.

 <p>N-best functionality with scores normalized to conditional
 probabilities may be computed using <A HREF="../../../com/aliasi/crf/ChainCrf.html#tagNBestConditional(java.util.List, int)"><CODE>tagNBestConditional(List,int)</CODE></A>.  This requires computing the
 normalizing constant using the forward-backward algorithm described
 in the next section.

 <h3>Marginal Tag Probabiilty Output: Forward-Backward Algorithm</h3>

 The forward-backward algorithm may be applied to conditional random
 fields.  The generalized undirected graphical model form of this
 algorithm is known as the product-sum algorithm.  The result is
 returned as an instance of <A HREF="../../../com/aliasi/tag/TagLattice.html" title="class in com.aliasi.tag"><CODE>TagLattice</CODE></A>.

 <p>The forward-backward algorithm efficiently computes unnormalized
 forward, backward, and normalizing probabilities.  As defined
 in the <A HREF="../../../com/aliasi/tag/TagLattice.html" title="class in com.aliasi.tag"><CODE>TagLattice</CODE></A> class documentation, these
 may be used to define the probability of a tag or tag sequence
 staring at a specified position given the input tokens.

 <p>The unnormalized total probability Z may be used with
 n-best output to convert n-best sequence scores into conditional
 probabilities of the tagging given the input tokens.

 <h3>Stochastic Gradient Descent Training</h3>

 <p>Training is carried out for conditional random fields the same
 way as for logistic regression classifiers (see <A HREF="../../../com/aliasi/classify/LogisticRegressionClassifier.html" title="class in com.aliasi.classify"><CODE>LogisticRegressionClassifier</CODE></A> and <A HREF="../../../com/aliasi/stats/LogisticRegression.html" title="class in com.aliasi.stats"><CODE>LogisticRegression</CODE></A>.  It's mathematically
 identical to think of CRFs as multi-way classifiers where the
 categories are sequences of tags.  Under that analogy, training for
 conditional random fields exactly mirrors that for logistic
 regression. The only difference for conditional random fields is
 that the expectations at each step are computed using the
 forward-backward algorithm and efficiently applied over the
 lattice.

 <p>See the logistic regression classes for a description of the
 prior (also see <A HREF="../../../com/aliasi/stats/RegressionPrior.html" title="class in com.aliasi.stats"><CODE>RegressionPrior</CODE></A>), and the learning and
 annealing rate (also see <A HREF="../../../com/aliasi/stats/AnnealingSchedule.html" title="class in com.aliasi.stats"><CODE>AnnealingSchedule</CODE></A>).

 <p>Reporting is exactly the same for conditional random fields as
 for logistic regression, with each epoch reporting learning rate
 (lr), log likelihood (ll), log prior probability (lp), and the
 combined objective being optimized consisting of the sum of log
 likelihood and log prior probability (llp), and the best combined
 objective so far (llp*).

 <p>Unlike in logistic regression, the prior is applied according
 to a blocking strategy rather than through lazy updates.  The block
 size is a parameter that determines how often the prior gradient
 is applied.  In effect, it treats updates as blocks.  The weight of
 the prior is adjusted accordingly.  After all of the instances in
 an epoch, the prior is applied one more time to ensure that the
 coefficients are in the right state after each epoch.

 <p>Significant speedups can be achieved by setting the feature
 caching flag in the estimator method to <code>true</code>.  This may
 require a large amount of memory, because it stores the entire
 lattice of vectors for each training instance.  

 <h3>Serialization</h3>

 A chain CRF may be serialized if its parts are serializable: the
 node and edge feature extractor, the feature symbol table, and the
 vector coefficients.

 <p>The CRF read back in will be identical to the one that was
 serialized to the extent that the parts are equivalent: feature
 extractors, symbol table, and coefficients.

 <p>For CRFs estimated using the gradient descent estimator method,
 the symbol table and vector coefficients are serializable in such a
 way as to reproduce equivalent objects to the ones being
 serialized.

 <h3>Thread Safety</h3>

 A CRF is thread safe to the extent that its symbol table and
 feature extractors are thread safe.  Calling the tagging methods
 concurrently will result in concurrent calls to feature extractors
 and symbol tables.  The standard symbol table implementations are
 all thread safe, and almost all well-implemented feature extractors
 will be thread safe.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>LingPipe3.9</DD>
<DT><B>Version:</B></DT>
  <DD>3.9.2</DD>
<DT><B>Author:</B></DT>
  <DD>Bob Carpenter</DD>
<DT><B>See Also:</B><DD><A HREF="../../../serialized-form.html#com.aliasi.crf.ChainCrf">Serialized Form</A></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#ChainCrf(java.lang.String[], boolean[], boolean[], boolean[][], com.aliasi.matrix.Vector[], com.aliasi.symbol.SymbolTable, com.aliasi.crf.ChainCrfFeatureExtractor, boolean)">ChainCrf</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;tags,
         boolean[]&nbsp;legalTagStarts,
         boolean[]&nbsp;legalTagEnds,
         boolean[][]&nbsp;legalTagTransitions,
         <A HREF="../../../com/aliasi/matrix/Vector.html" title="interface in com.aliasi.matrix">Vector</A>[]&nbsp;coefficients,
         <A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A>&nbsp;featureSymbolTable,
         <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;featureExtractor,
         boolean&nbsp;addInterceptFeature)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a conditional random field from the specified tags,
 feature vector coefficients, symbol table for feature, feature
 extractors and flag indicating whether to add intercepts or
 not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#ChainCrf(java.lang.String[], com.aliasi.matrix.Vector[], com.aliasi.symbol.SymbolTable, com.aliasi.crf.ChainCrfFeatureExtractor, boolean)">ChainCrf</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;tags,
         <A HREF="../../../com/aliasi/matrix/Vector.html" title="interface in com.aliasi.matrix">Vector</A>[]&nbsp;coefficients,
         <A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A>&nbsp;featureSymbolTable,
         <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;featureExtractor,
         boolean&nbsp;addInterceptFeature)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a conditional random field from the specified tags,
 feature vector coefficients, symbol table for feature, feature
 extractors and flag indicating whether to add intercepts or
 not.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#addInterceptFeature()">addInterceptFeature</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if this CRF adds an intercept feature
 with value 1.0 at index 0 to all feature vectors.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/matrix/Vector.html" title="interface in com.aliasi.matrix">Vector</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#coefficients()">coefficients</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the coefficient vectors for this CRF.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;F&gt; <A HREF="../../../com/aliasi/crf/ChainCrf.html" title="class in com.aliasi.crf">ChainCrf</A>&lt;F&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#estimate(com.aliasi.corpus.Corpus, com.aliasi.crf.ChainCrfFeatureExtractor, boolean, int, boolean, boolean, com.aliasi.stats.RegressionPrior, int, com.aliasi.stats.AnnealingSchedule, double, int, int, com.aliasi.io.Reporter)">estimate</A></B>(<A HREF="../../../com/aliasi/corpus/Corpus.html" title="class in com.aliasi.corpus">Corpus</A>&lt;<A HREF="../../../com/aliasi/corpus/ObjectHandler.html" title="interface in com.aliasi.corpus">ObjectHandler</A>&lt;<A HREF="../../../com/aliasi/tag/Tagging.html" title="class in com.aliasi.tag">Tagging</A>&lt;F&gt;&gt;&gt;&nbsp;corpus,
         <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;F&gt;&nbsp;featureExtractor,
         boolean&nbsp;addInterceptFeature,
         int&nbsp;minFeatureCount,
         boolean&nbsp;cacheFeatureVectors,
         boolean&nbsp;allowUnseenTransitions,
         <A HREF="../../../com/aliasi/stats/RegressionPrior.html" title="class in com.aliasi.stats">RegressionPrior</A>&nbsp;prior,
         int&nbsp;priorBlockSize,
         <A HREF="../../../com/aliasi/stats/AnnealingSchedule.html" title="class in com.aliasi.stats">AnnealingSchedule</A>&nbsp;annealingSchedule,
         double&nbsp;minImprovement,
         int&nbsp;minEpochs,
         int&nbsp;maxEpochs,
         <A HREF="../../../com/aliasi/io/Reporter.html" title="class in com.aliasi.io">Reporter</A>&nbsp;reporter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the CRF estimated using stochastic gradient descent with
 the specified prior from the specified corpus of taggings of
 type <code>F</code> pruned to the specified minimum feature count,
 using the specified feature extractor, automatically adding an
 intercept feature if the flag is <code>true</code>, allow unseen tag
 transitions as specified, using the specified training
 parameters for annealing, measuring convergence, and reporting
 the incremental results to the specified reporter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#featureExtractor()">featureExtractor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the feature extractor for this CRF.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#featureSymbolTable()">featureSymbolTable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an unmodifiable view of the symbol table for features for
 this CRF.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#tag(int)">tag</A></B>(int&nbsp;k)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the tag for the specified tag index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/tag/Tagging.html" title="class in com.aliasi.tag">Tagging</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#tag(java.util.List)">tag</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the tagging for the specified list of tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/tag/TagLattice.html" title="class in com.aliasi.tag">TagLattice</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#tagMarginal(java.util.List)">tagMarginal</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the marginal tagging for the specified list of
 input tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../com/aliasi/tag/ScoredTagging.html" title="class in com.aliasi.tag">ScoredTagging</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#tagNBest(java.util.List, int)">tagNBest</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens,
         int&nbsp;maxResults)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return an iterator over the <code>n</code>-best scored taggings for
 the specified input tokens up to a specified maximum <code>n</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../com/aliasi/tag/ScoredTagging.html" title="class in com.aliasi.tag">ScoredTagging</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#tagNBestConditional(java.util.List, int)">tagNBestConditional</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens,
                    int&nbsp;maxResults)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return an iterator over the <code>n</code>-best scored taggings for
 the specified input tokens up to a specified maximum <code>n</code>,
 with scores normalized to conditional probabilities.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#tags()">tags</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an unmodifiable view of the array of tags underlying this CRF.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/crf/ChainCrf.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a string-based representation of this chain CRF.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ChainCrf(java.lang.String[], com.aliasi.matrix.Vector[], com.aliasi.symbol.SymbolTable, com.aliasi.crf.ChainCrfFeatureExtractor, boolean)"><!-- --></A><H3>
ChainCrf</H3>
<PRE>
public <B>ChainCrf</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;tags,
                <A HREF="../../../com/aliasi/matrix/Vector.html" title="interface in com.aliasi.matrix">Vector</A>[]&nbsp;coefficients,
                <A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A>&nbsp;featureSymbolTable,
                <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;featureExtractor,
                boolean&nbsp;addInterceptFeature)</PRE>
<DL>
<DD>Construct a conditional random field from the specified tags,
 feature vector coefficients, symbol table for feature, feature
 extractors and flag indicating whether to add intercepts or
 not.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>tags</CODE> - Array of output tags.<DD><CODE>coefficients</CODE> - Array of coefficient vectors parallel to tags.<DD><CODE>featureSymbolTable</CODE> - Symbol table for feature extraction
 to vectors.<DD><CODE>featureExtractor</CODE> - CRF feature extractor.<DD><CODE>addInterceptFeature</CODE> - <code>true</code> if an intercept feature
 at position 0 with value 1 is added to all feature vectors.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - If the tag and coefficient
 vector arrays are not non-empty and the same length, or if the
 coefficient vectors are not all of the same number of dimensions.</DL>
</DL>
<HR>

<A NAME="ChainCrf(java.lang.String[], boolean[], boolean[], boolean[][], com.aliasi.matrix.Vector[], com.aliasi.symbol.SymbolTable, com.aliasi.crf.ChainCrfFeatureExtractor, boolean)"><!-- --></A><H3>
ChainCrf</H3>
<PRE>
public <B>ChainCrf</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;tags,
                boolean[]&nbsp;legalTagStarts,
                boolean[]&nbsp;legalTagEnds,
                boolean[][]&nbsp;legalTagTransitions,
                <A HREF="../../../com/aliasi/matrix/Vector.html" title="interface in com.aliasi.matrix">Vector</A>[]&nbsp;coefficients,
                <A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A>&nbsp;featureSymbolTable,
                <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;featureExtractor,
                boolean&nbsp;addInterceptFeature)</PRE>
<DL>
<DD>Construct a conditional random field from the specified tags,
 feature vector coefficients, symbol table for feature, feature
 extractors and flag indicating whether to add intercepts or
 not.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>tags</CODE> - Array of output tags<DD><CODE>legalTagStarts</CODE> - Array of flags indicating if tag may be
 first tag for a tagging.<DD><CODE>legalTagEnds</CODE> - Array of flags indicating if tag may be
 last tag for a tagging.<DD><CODE>legalTagTransitions</CODE> - Two dimensional array of flags indicating
 if the first tag may be followed by the second tag.<DD><CODE>coefficients</CODE> - Array of coefficient vectors parallel to tags.<DD><CODE>featureSymbolTable</CODE> - Symbol table for feature extraction
 to vectors.<DD><CODE>featureExtractor</CODE> - CRF feature extractor.<DD><CODE>addInterceptFeature</CODE> - <code>true</code> if an intercept feature
 at position 0 with value 1 is added to all feature vectors.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - If the tag and coefficient
 vector arrays are not non-empty and the same length, or if the
 coefficient vectors are not all of the same number of dimensions.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="tags()"><!-- --></A><H3>
tags</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt; <B>tags</B>()</PRE>
<DL>
<DD>Returns an unmodifiable view of the array of tags underlying this CRF.

 <p>The array of coefficient vectors is parallel to the array of
 tags returned by <A HREF="../../../com/aliasi/crf/ChainCrf.html#tags()"><CODE>tags()</CODE></A>k, so the coefficient vector
 <code>coefficients()[n]</code> is for output tag <code>tags()[n]</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>View of the output tags.</DL>
</DD>
</DL>
<HR>

<A NAME="tag(int)"><!-- --></A><H3>
tag</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>tag</B>(int&nbsp;k)</PRE>
<DL>
<DD>Returns the tag for the specified tag index.  This uses the
 underlying tags, so that <code>tag(k) == tags()[k]</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>k</CODE> - Position of tag.
<DT><B>Returns:</B><DD>Tag for the specified position.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ArrayIndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">ArrayIndexOutOfBoundsException</A></CODE> - If the specified index
 is out of bounds for the tag array (<code>k &lt; 0</code> or <code>k
 &gt;= tags().length</code>).</DL>
</DD>
</DL>
<HR>

<A NAME="coefficients()"><!-- --></A><H3>
coefficients</H3>
<PRE>
public <A HREF="../../../com/aliasi/matrix/Vector.html" title="interface in com.aliasi.matrix">Vector</A>[] <B>coefficients</B>()</PRE>
<DL>
<DD>Return the coefficient vectors for this CRF.

 <p>The array of coefficient vectors is parallel to the array of
 tags returned by <A HREF="../../../com/aliasi/crf/ChainCrf.html#tags()"><CODE>tags()</CODE></A>k, so the coefficient vector
 <code>coefficients()[n]</code> is for output tag <code>tags()[n]</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The coefficient vectors.</DL>
</DD>
</DL>
<HR>

<A NAME="featureSymbolTable()"><!-- --></A><H3>
featureSymbolTable</H3>
<PRE>
public <A HREF="../../../com/aliasi/symbol/SymbolTable.html" title="interface in com.aliasi.symbol">SymbolTable</A> <B>featureSymbolTable</B>()</PRE>
<DL>
<DD>Returns an unmodifiable view of the symbol table for features for
 this CRF.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A view of the symbol table for features.</DL>
</DD>
</DL>
<HR>

<A NAME="featureExtractor()"><!-- --></A><H3>
featureExtractor</H3>
<PRE>
public <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt; <B>featureExtractor</B>()</PRE>
<DL>
<DD>Return the feature extractor for this CRF.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The feature extractor.</DL>
</DD>
</DL>
<HR>

<A NAME="addInterceptFeature()"><!-- --></A><H3>
addInterceptFeature</H3>
<PRE>
public boolean <B>addInterceptFeature</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if this CRF adds an intercept feature
 with value 1.0 at index 0 to all feature vectors.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Whether this CRF adds an intercept feature.</DL>
</DD>
</DL>
<HR>

<A NAME="tag(java.util.List)"><!-- --></A><H3>
tag</H3>
<PRE>
public <A HREF="../../../com/aliasi/tag/Tagging.html" title="class in com.aliasi.tag">Tagging</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt; <B>tag</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../com/aliasi/tag/Tagger.html#tag(java.util.List)">Tagger</A></CODE></B></DD>
<DD>Return the tagging for the specified list of tokens.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/aliasi/tag/Tagger.html#tag(java.util.List)">tag</A></CODE> in interface <CODE><A HREF="../../../com/aliasi/tag/Tagger.html" title="interface in com.aliasi.tag">Tagger</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokens</CODE> - Input tokens to tag.
<DT><B>Returns:</B><DD>Tagging for the specified input tokens.</DL>
</DD>
</DL>
<HR>

<A NAME="tagNBest(java.util.List, int)"><!-- --></A><H3>
tagNBest</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../com/aliasi/tag/ScoredTagging.html" title="class in com.aliasi.tag">ScoredTagging</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&gt; <B>tagNBest</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens,
                                           int&nbsp;maxResults)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../com/aliasi/tag/NBestTagger.html#tagNBest(java.util.List, int)">NBestTagger</A></CODE></B></DD>
<DD>Return an iterator over the <code>n</code>-best scored taggings for
 the specified input tokens up to a specified maximum <code>n</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/aliasi/tag/NBestTagger.html#tagNBest(java.util.List, int)">tagNBest</A></CODE> in interface <CODE><A HREF="../../../com/aliasi/tag/NBestTagger.html" title="interface in com.aliasi.tag">NBestTagger</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokens</CODE> - Input tokens to tag.<DD><CODE>maxResults</CODE> - Maximum number of results to return.
<DT><B>Returns:</B><DD>Iterator over the n-best scored taggings for the
 specified tokens.</DL>
</DD>
</DL>
<HR>

<A NAME="tagNBestConditional(java.util.List, int)"><!-- --></A><H3>
tagNBestConditional</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../com/aliasi/tag/ScoredTagging.html" title="class in com.aliasi.tag">ScoredTagging</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&gt; <B>tagNBestConditional</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens,
                                                      int&nbsp;maxResults)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../com/aliasi/tag/NBestTagger.html#tagNBestConditional(java.util.List, int)">NBestTagger</A></CODE></B></DD>
<DD>Return an iterator over the <code>n</code>-best scored taggings for
 the specified input tokens up to a specified maximum <code>n</code>,
 with scores normalized to conditional probabilities.

 <p>Optional operation.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/aliasi/tag/NBestTagger.html#tagNBestConditional(java.util.List, int)">tagNBestConditional</A></CODE> in interface <CODE><A HREF="../../../com/aliasi/tag/NBestTagger.html" title="interface in com.aliasi.tag">NBestTagger</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokens</CODE> - Input tokens to tag.<DD><CODE>maxResults</CODE> - Maximum number of results to return.
<DT><B>Returns:</B><DD>Iterator over the n-best scored taggings for the
 specified tokens.</DL>
</DD>
</DL>
<HR>

<A NAME="tagMarginal(java.util.List)"><!-- --></A><H3>
tagMarginal</H3>
<PRE>
public <A HREF="../../../com/aliasi/tag/TagLattice.html" title="class in com.aliasi.tag">TagLattice</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt; <B>tagMarginal</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;&nbsp;tokens)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../com/aliasi/tag/MarginalTagger.html#tagMarginal(java.util.List)">MarginalTagger</A></CODE></B></DD>
<DD>Return the marginal tagging for the specified list of
 input tokens.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/aliasi/tag/MarginalTagger.html#tagMarginal(java.util.List)">tagMarginal</A></CODE> in interface <CODE><A HREF="../../../com/aliasi/tag/MarginalTagger.html" title="interface in com.aliasi.tag">MarginalTagger</A>&lt;<A HREF="../../../com/aliasi/crf/ChainCrf.html" title="type parameter in ChainCrf">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokens</CODE> - Input tokens to tag.
<DT><B>Returns:</B><DD>The lattice of tags for the specified tokens.</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>toString</B>()</PRE>
<DL>
<DD>Return a string-based representation of this chain CRF.
 All information returned in this string representation is
 available programatically.

 <p><b>Warning:</b> The output is very verbose, including
 symbolic representations of all the coefficients.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A></CODE> in class <CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A string-based representation of this chain CRF.</DL>
</DD>
</DL>
<HR>

<A NAME="estimate(com.aliasi.corpus.Corpus, com.aliasi.crf.ChainCrfFeatureExtractor, boolean, int, boolean, boolean, com.aliasi.stats.RegressionPrior, int, com.aliasi.stats.AnnealingSchedule, double, int, int, com.aliasi.io.Reporter)"><!-- --></A><H3>
estimate</H3>
<PRE>
public static &lt;F&gt; <A HREF="../../../com/aliasi/crf/ChainCrf.html" title="class in com.aliasi.crf">ChainCrf</A>&lt;F&gt; <B>estimate</B>(<A HREF="../../../com/aliasi/corpus/Corpus.html" title="class in com.aliasi.corpus">Corpus</A>&lt;<A HREF="../../../com/aliasi/corpus/ObjectHandler.html" title="interface in com.aliasi.corpus">ObjectHandler</A>&lt;<A HREF="../../../com/aliasi/tag/Tagging.html" title="class in com.aliasi.tag">Tagging</A>&lt;F&gt;&gt;&gt;&nbsp;corpus,
                                       <A HREF="../../../com/aliasi/crf/ChainCrfFeatureExtractor.html" title="interface in com.aliasi.crf">ChainCrfFeatureExtractor</A>&lt;F&gt;&nbsp;featureExtractor,
                                       boolean&nbsp;addInterceptFeature,
                                       int&nbsp;minFeatureCount,
                                       boolean&nbsp;cacheFeatureVectors,
                                       boolean&nbsp;allowUnseenTransitions,
                                       <A HREF="../../../com/aliasi/stats/RegressionPrior.html" title="class in com.aliasi.stats">RegressionPrior</A>&nbsp;prior,
                                       int&nbsp;priorBlockSize,
                                       <A HREF="../../../com/aliasi/stats/AnnealingSchedule.html" title="class in com.aliasi.stats">AnnealingSchedule</A>&nbsp;annealingSchedule,
                                       double&nbsp;minImprovement,
                                       int&nbsp;minEpochs,
                                       int&nbsp;maxEpochs,
                                       <A HREF="../../../com/aliasi/io/Reporter.html" title="class in com.aliasi.io">Reporter</A>&nbsp;reporter)
                            throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Return the CRF estimated using stochastic gradient descent with
 the specified prior from the specified corpus of taggings of
 type <code>F</code> pruned to the specified minimum feature count,
 using the specified feature extractor, automatically adding an
 intercept feature if the flag is <code>true</code>, allow unseen tag
 transitions as specified, using the specified training
 parameters for annealing, measuring convergence, and reporting
 the incremental results to the specified reporter.

 <p>Reporting at the info level provides parameter and epoch
 level.  At the debug level, it reports epoch-by-epoch
 likelihoods.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>corpus</CODE> - Corpus from which to estimate.<DD><CODE>featureExtractor</CODE> - Feature extractor for the CRF.<DD><CODE>addInterceptFeature</CODE> - Set to <code>true</code> if an intercept
 feature with index 0 is automatically added to all feature
 vectors with value 1.0.<DD><CODE>minFeatureCount</CODE> - Minimum number of instances of a feature
 to keep it.<DD><CODE>cacheFeatureVectors</CODE> - Flag indicating whether or not to
 keep the computed feature vectors in memory.<DD><CODE>allowUnseenTransitions</CODE> - Flag indicating whether to allow
 tags to start a tagging, end a tagging, or follow another tag
 if there was not an example of that in the corpus.<DD><CODE>prior</CODE> - Prior for coefficients to use during estimation.<DD><CODE>annealingSchedule</CODE> - Schedule for annealing the learning
 rate during gradient descent.<DD><CODE>minImprovement</CODE> - Minimum relative improvement objective
 (log likelihood plus log prior) computed as a 10-epoch rolling
 average to signal convergence.<DD><CODE>minEpochs</CODE> - Minimum number of epochs for which to run
 gradient descent estimation.<DD><CODE>maxEpochs</CODE> - Maximum number of epochs for which to run
 gradient descent estimation.<DD><CODE>reporter</CODE> - Reporter to which results are written, or
 <code>null</code> for no reporting of intermediate results.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../com/aliasi/crf/ChainCrfChunker.html" title="class in com.aliasi.crf"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/aliasi/crf/ChainCrf.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ChainCrf.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
