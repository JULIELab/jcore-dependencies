<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Thu Jun 23 19:27:25 EDT 2011 -->
<TITLE>
KMeansClusterer (LingPipe API)
</TITLE>

<META NAME="date" CONTENT="2011-06-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KMeansClusterer (LingPipe API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/aliasi/cluster/HierarchicalClusterer.html" title="interface in com.aliasi.cluster"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/aliasi/cluster/LatentDirichletAllocation.html" title="class in com.aliasi.cluster"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/aliasi/cluster/KMeansClusterer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KMeansClusterer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.aliasi.cluster</FONT>
<BR>
Class KMeansClusterer&lt;E&gt;</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.aliasi.cluster.KMeansClusterer&lt;E&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>E</CODE> - the type of objects being clustered</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../com/aliasi/cluster/Clusterer.html" title="interface in com.aliasi.cluster">Clusterer</A>&lt;E&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>KMeansClusterer&lt;E&gt;</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../com/aliasi/cluster/Clusterer.html" title="interface in com.aliasi.cluster">Clusterer</A>&lt;E&gt;</DL>
</PRE>

<P>
A <code>KMeansClusterer</code> provides an implementation of
 k-means(++) clustering based on vectors constructed by feature
 extractors.  An instance fixes a specific value of <code>K</code>, the
 number of clusters returned.  Initialization may be either by
 the traditional k-means random assignment, or by the k-means++
 initialization strategy. 

 <p>This clustering class is defined so as to be able to cluster
 arbitrary objects.  These objects are converted to (sparse) vectors
 using a feature extractor specified during construction.

 <p><b>Feature Parsing to Cluster Objects</b>

 <p>The elements being clustered are first converted into feature
 d-dimensional vectors using a feature extractor.  These feature
 vectors are then evenly distributed among the clusters using random
 assignment.  Feature extractors may normalize their input in any
 number of ways.  Run time is dominated by the density of the object
 vectors.

 <p><b>Centroids</b>
 
 <p>In k-means, each cluster is modeled by the centroid of the
 feature vectors assigned to it.  The centroid of a set of points is
 just the mean of the points, computed by dimension:

 <blockquote><pre>
 centroid({v[0],...,v[n-1]}) = (v[0] + ... + v[n-1]) / n</blockquote></pre>

 Thus centroids are thus located in the same vector space
 as the objects, namely they are d-dimensional vectors.
 The code represents centroids as dense vectors, and objects
 as sparse vectors.

 <p><b>Euclidean Distance</b>
 
 <p>Feature vectors are always compared to cluster centroids
 using squared Euclidean distance, defined by:

 <blockquote><pre>
 distance(x,y)<sup>2</sup> =(x - y) * (x - y)
                = <big><big>&Sigma;</big></big><sub><sub>i</sub></sub> (x[i] - y[i])<sup>2</sup>)</pre></blockquote>

 The centroid of a set of points is the point that minimizes the sum
 of square distances from the points in that set to the set.

 <p><b>K-means</b>
 
 <p>The k-means algorithm then iteratively improves cluster
 assignments.  Each epoch consists of two stages, reassignment
 and recomputing the means.

 <p><i>Cluster Assignment:</i> &nbsp; In each epoch, we assign each object
 to the cluster represented by the closest centroid.  Ties go to the
 lowest indexed element.

 <p><i>Mean Recomputation:</i> &nbsp; At the end of each epoch, the
 centroids are then recomputed as the means of points assigned to
 the cluster.

 <p><i>Convergence:</i> &nbsp; If no objects change cluster during an
 iteration, the algorithm has converged and the results will be returned.
 We also consider the algorithm converged if the relative reduction
 in error from epoch to epoch falls below a set threshold.  Also, the
 algorithm will return if the maximum number of epochs have been reached.


 <p><b>K-means as Minimization</b>

 <p>K-means clustering may be viewed as an iterative approach to the
 minimization of the average sauare distance between items and their
 cluster centers, which is:

 <blockquote><pre>
 Err(cs) = <big><big><big>&Sigma;</big></big></big><sub>c in cs</sub> <big><big><big>&Sigma;</big></big></big><sub>x in c</sub> distance(x,centroid(x))<sup>2</sup></pre></blockquote>

 where <code>cs</code> is the set of clusters and <code>centroid(x)</code>
 is the centroid (mean or average) of the cluster containing x.

 <p><b>Convergence Guarantees</b>

 <p>K-means clustering is guaranteed to converge to a local mimium
 of error because both steps of K-means reduce error.  First,
 assigning each object to its closest centroid minimizes error given
 the centroids.  Second, recalculating centroids as the means of
 elements assigned to them minimizes errors given the clustering.
 Given that error is bounded at zero, and changes are discrete,
 k-means must eventually converge.  While there are exponentially
 many possible clusterings in theory, in practice k-means converges
 very quickly.


 <p><b>Local Minima and Multiple Runs</b>

 <p>Like the EM algorithm, k-means clustering is highly sensitive to
 the initial assignment of elements.  In practice, it is often
 helpful to apply k-means clustering repeatedly to the same input
 data, returning the clustering with minimum error.

 <p>At the start of each iteration, the error of the previous
 assignment is reported (at convergence, this will be the final
 error).

 <p>Multiple runs may be used to provide bootstrap estimates
 of the relatedness of any two elements.   Bootstrap estimates
 work by subsampling the elements to cluster with replacement
 and then running k-means on them.  This is repeated multiple
 times, and the percentage of runs in which two elements fall
 in the same cluster forms the bootstrap estimate of the likelihood
 that they are in the same cluster.


 <p><b>Degenerate Solutions</b>

 <p>In some cases, the iterative approach taken by k-means leads to
 a solution in which not every cluster is populated.  This happens
 during a step in which no feature vector is closest to a given
 centroid.  This is most likely to happen in highly skewed data in
 high dimensional spaces.  Sometimes, rerunning the clusterer with a
 different initialization will find a solution with k clusters.


 <p><b>Picking a good <code>K</code></b>

 <p>The number of clusters, k, may also be varied.  In this case,
 new k-means clustering instances must be created, as each uses
 a fixed number of clusters.

 <p>By varying <code>k</code>, the maximum number of clusters,
 the within-cluster scatter may be compared across different choices
 of <code>k</code>.  Typically, a value of <code>k</code> is chosen
 at a knee of the within-cluster scatter scores.  There are automatic
 ways of performing this selection, though they are heuristically
 rather than theoretically motivated.

 <p>In practice, it is technically possible, though unlikely, for
 clusters to wind up with no elements in them.  This implementation
 will simply return fewer clusters than the maximum specified in
 this case.


 <p><b>K-Means++ Initialization</b>

 <p> K-means++ is a k-means algorithm that attempts to make a good
 randomized choice of initial centers. This requires choosing a
 diverse set of centers, but not overpopulating the initial set of
 centers with outliers.  <p>K-means++ has reasonable expected
 performance bounds in theory, and quite good performance in
 practice.

 <p>Suppose we have K clusters and a set X of size at least K.
 K-means++ chooses a single point c[k] in X as each initial
 centroid, using the following strategy:

 <blockquote><pre>
 1.  Sample the first centroid c[1] randomly from X.

 2.  For k = 2 to K

        Sample the next centroid c[k] = x
        with probability proportional to D(x)<sup><sup>2</sup></sup>
 </pre></blockquote>

 where D(x) is the minimum distance to an existing centroid:

 <blockquote><pre>
 D(x) = min<sub><sub>k' &lt; k</sub></sub> d(x,c[k'])</pre></blockquote>

 After initialization, k-means++ proceeds just as traditional
 k-means clustering.

 <p>The good expected behavior form k-means++ arises from choosing
 the next center in such a way that it's far away from existing
 centers.  Many nearby points in some sense pool their behavior,
 because the chance that one will be picked is the sum of the chance
 that each will be picked.  Outliers are, by definition, points x
 with high values of D(x) but which are not near other points.


 <p><b>Relation to Gaussian Mixtures and Expectation/Maximization</b>

 <p>The k-means clustering algorithm is implicitly based on a
 multi-dimensional Gaussian with independent dimensions with shared
 means (the centroids) and equal variances.  Estimates are carried
 out by maximum likelihood; that is, no prior, or equivalently the
 fully uninformative prior, is used.  Where k-means differs from
 standard expectation/maximization (EM) is that k-means reweights
 the expectations so that the closest centroid gets an expectation
 of 1.0 and all other centroids get an expectation of 0.0.  This
 approach has been called &quot;winner-take-all&quot; EM in the EM
 literature.


 <p><b>Implementation Notes</b>

 <p>The current implementation conserves some computations versus
 the brute-force approach by (1) only computing vector products
 in comparing two vectors, and (2) not recomputing distances if
 we know the 


 <p><b>References</b>

 <ul>
 <li>
 MacQueen, J. B. 1967.  Some Methods for classification and Analysis of Multivariate Observations.
 <i> Proceedings of Fifth Berkeley Symposium on Mathematical Statistics and Probability</i>.
 University of California Press.

 <li>
 Andrew Moore's <a href="http://www.autonlab.org/tutorials/kmeans11.pdf">K-Means Tutorial</a> including most of the mathematics
 </li>

 <li>
 Matteo Matteucci's <a href="http://home.dei.polimi.it/matteucc/Clustering/tutorial_html/kmeans.html">K-Means Tutorial</a> including a
very nice <a href="http://www.elet.polimi.it/upload/matteucc/Clustering/tutorial_html/AppletKM.html">interactive servlet demo</a>
 </li>

 <li>
 Hastie, T., R. Tibshirani and J.H. Friedman. 2001. <i>The
 Elements of Statistical Learning</i>. Springer-Verlag.
 </li>

 <li>
 Wikipedia: <a href="http://en.wikipedia.org/wiki/K-means_algorithm">K-means Algorithm</a>
 </li>

 <li>
 Arthur, David and Sergei Vassilvitski (2007) <a href="http://www.stanford.edu/~darthur/kMeansPlusPlus.pdf">k-means++: The Advantages of Careful Seeding</a>. SODA 2007. 
 </li>
 </ul>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>LingPipe2.0</DD>
<DT><B>Version:</B></DT>
  <DD>4.0.0</DD>
<DT><B>Author:</B></DT>
  <DD>Bob Carpenter</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#KMeansClusterer(com.aliasi.util.FeatureExtractor, int, int, boolean, double)">KMeansClusterer</A></B>(<A HREF="../../../com/aliasi/util/FeatureExtractor.html" title="interface in com.aliasi.util">FeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;featureExtractor,
                int&nbsp;numClusters,
                int&nbsp;maxEpochs,
                boolean&nbsp;kMeansPlusPlus,
                double&nbsp;minImprovement)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a k-means clusterer with the specified feature
 extractor, number of clusters, minimum improvement per cluster,
 using either traditional or k-means++ initialization.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#cluster(java.util.Set)">cluster</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;? extends <A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;elementSet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a k-means clustering of the specified set of elements
 using a freshly generated random number generator without
 intermediate reporting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#cluster(java.util.Set, java.util.Random, com.aliasi.io.Reporter)">cluster</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;? extends <A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;elementSet,
        <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util">Random</A>&nbsp;random,
        <A HREF="../../../com/aliasi/io/Reporter.html" title="class in com.aliasi.io">Reporter</A>&nbsp;reporter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the k-means clustering for the specified set of
 elements, using the specified random number generator, sending
 progress reports to the specified reporter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/aliasi/util/FeatureExtractor.html" title="interface in com.aliasi.util">FeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#featureExtractor()">featureExtractor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the feature extractor for this clusterer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#maxEpochs()">maxEpochs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the maximum number of epochs for this clusterer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#minRelativeImprovement()">minRelativeImprovement</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the minimum reduction in relative error required to
 continue to the next epoch during clustering.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#numClusters()">numClusters</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the maximum number of clusters this clusterer will
 return.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/aliasi/cluster/KMeansClusterer.html#recluster(java.util.Set, java.util.Set, com.aliasi.io.Reporter)">recluster</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt;&nbsp;initialClustering,
          <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;unclusteredElements,
          <A HREF="../../../com/aliasi/io/Reporter.html" title="class in com.aliasi.io">Reporter</A>&nbsp;reporter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recluster the specified initial clustering, adding in the
 unclustered elements, reporting progress to the specified
 reporter.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="KMeansClusterer(com.aliasi.util.FeatureExtractor, int, int, boolean, double)"><!-- --></A><H3>
KMeansClusterer</H3>
<PRE>
public <B>KMeansClusterer</B>(<A HREF="../../../com/aliasi/util/FeatureExtractor.html" title="interface in com.aliasi.util">FeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;featureExtractor,
                       int&nbsp;numClusters,
                       int&nbsp;maxEpochs,
                       boolean&nbsp;kMeansPlusPlus,
                       double&nbsp;minImprovement)</PRE>
<DL>
<DD>Construct a k-means clusterer with the specified feature
 extractor, number of clusters, minimum improvement per cluster,
 using either traditional or k-means++ initialization.

 <p>If the kMeansPlusPlus flag is set to <code>true</code>, the
 k-means++ initialization strategy is used.  If it is set to
 false, initialization of each cluster will be handled by a
 random shuffling of all elements into a cluster.

 <p>If the number of epochs is set to zero, the result will be a
 random balanced clusterings of the specified size.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>featureExtractor</CODE> - Feature extractor for this clusterer.<DD><CODE>numClusters</CODE> - Number of clusters to return.<DD><CODE>maxEpochs</CODE> - Maximum number of epochs during<DD><CODE>kMeansPlusPlus</CODE> - Set to <code>true</code> to use k-means++
 initialization.  optimization.<DD><CODE>minImprovement</CODE> - Minimum relative improvement in squared
 distance scatter to keep going to the next epoch.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - If the number of clusters is
 less than 1, if the maximum number of epochs is less than 0, or
 if the minimum improvement is not a finite, non-negative number.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="featureExtractor()"><!-- --></A><H3>
featureExtractor</H3>
<PRE>
public <A HREF="../../../com/aliasi/util/FeatureExtractor.html" title="interface in com.aliasi.util">FeatureExtractor</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt; <B>featureExtractor</B>()</PRE>
<DL>
<DD>Returns the feature extractor for this clusterer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The feature extractor for this clusterer.</DL>
</DD>
</DL>
<HR>

<A NAME="numClusters()"><!-- --></A><H3>
numClusters</H3>
<PRE>
public int <B>numClusters</B>()</PRE>
<DL>
<DD>Returns the maximum number of clusters this clusterer will
 return.  This is the &quot;<code>k</code>&quot; in
 &quot;k-means&quot;.

 <p>Clustering fewer elements will result in fewer clusters.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The number of clusters this clusterer will return.</DL>
</DD>
</DL>
<HR>

<A NAME="maxEpochs()"><!-- --></A><H3>
maxEpochs</H3>
<PRE>
public int <B>maxEpochs</B>()</PRE>
<DL>
<DD>Returns the maximum number of epochs for this clusterer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The maximum number of epochs.</DL>
</DD>
</DL>
<HR>

<A NAME="cluster(java.util.Set)"><!-- --></A><H3>
cluster</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt; <B>cluster</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;? extends <A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;elementSet)</PRE>
<DL>
<DD>Return a k-means clustering of the specified set of elements
 using a freshly generated random number generator without
 intermediate reporting.  The feature extractor, maximum number of
 epochs, number of clusters, and minimum relative improvement,
 and whether to use k-means++ initialization are defined in the
 class.

 <p>This is just a utility method implementing the
 <A HREF="../../../com/aliasi/cluster/Clusterer.html" title="interface in com.aliasi.cluster"><CODE>Clusterer</CODE></A> interface.  A call to 
 <code>cluster(elementSet)</code> produces the same result
 as <code>cluster(elementSet,new Random(),null)</code>.
 
 <p>See the class documentation above for more information.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/aliasi/cluster/Clusterer.html#cluster(java.util.Set)">cluster</A></CODE> in interface <CODE><A HREF="../../../com/aliasi/cluster/Clusterer.html" title="interface in com.aliasi.cluster">Clusterer</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>elementSet</CODE> - Set of elements to cluster.
<DT><B>Returns:</B><DD>Clustering of the specified elements.</DL>
</DD>
</DL>
<HR>

<A NAME="cluster(java.util.Set, java.util.Random, com.aliasi.io.Reporter)"><!-- --></A><H3>
cluster</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt; <B>cluster</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;? extends <A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;elementSet,
                           <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util">Random</A>&nbsp;random,
                           <A HREF="../../../com/aliasi/io/Reporter.html" title="class in com.aliasi.io">Reporter</A>&nbsp;reporter)</PRE>
<DL>
<DD>Return the k-means clustering for the specified set of
 elements, using the specified random number generator, sending
 progress reports to the specified reporter.  The feature
 extractor, maximum number of epochs, number of clusters, and
 minimum relative improvement, and whether to use k-means++
 initialization are defined in the class.

 <p>The reason this is a separate method is that typical
 implementations of <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util"><CODE>Random</CODE></A> are not thread safe,
 and rarely should reports from different clustering runs
 be interleaved to a reporter.

 <p>Using a fixed random number generator (e.g. by using the
 same seed for <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util"><CODE>Random</CODE></A>) will result in the same
 resulting clustering, which can be useful for replicating
 tests.

 <p>See the class documentation above for more information.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>elementSet</CODE> - Set of elements to cluster<DD><CODE>random</CODE> - Random number generator<DD><CODE>reporter</CODE> - Reporter to which progress reports are sent,
 or <code>null</code> if no reporting is required.</DL>
</DD>
</DL>
<HR>

<A NAME="minRelativeImprovement()"><!-- --></A><H3>
minRelativeImprovement</H3>
<PRE>
public double <B>minRelativeImprovement</B>()</PRE>
<DL>
<DD>Returns the minimum reduction in relative error required to
 continue to the next epoch during clustering.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The minimum improvement per epoch.</DL>
</DD>
</DL>
<HR>

<A NAME="recluster(java.util.Set, java.util.Set, com.aliasi.io.Reporter)"><!-- --></A><H3>
recluster</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt; <B>recluster</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&gt;&nbsp;initialClustering,
                             <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../com/aliasi/cluster/KMeansClusterer.html" title="type parameter in KMeansClusterer">E</A>&gt;&nbsp;unclusteredElements,
                             <A HREF="../../../com/aliasi/io/Reporter.html" title="class in com.aliasi.io">Reporter</A>&nbsp;reporter)</PRE>
<DL>
<DD>Recluster the specified initial clustering, adding in the
 unclustered elements, reporting progress to the specified
 reporter.  The number of clusters is set by the size of the
 initial clustering as measured by the number of non-empty
 clusters it contains.  This clusterer's maximum number of epochs and minimum
 improvement will be used.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>initialClustering</CODE> - Initialization of clustering.<DD><CODE>unclusteredElements</CODE> - Elements that have not been clustered.<DD><CODE>reporter</CODE> - Reporter to which to send progress reports,
 or <code>null</code> for no reporting.
<DT><B>Returns:</B><DD>The reclustering.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - If there are empty clusters
 in the clustering or if an element belongs to more than
 one cluster.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/aliasi/cluster/HierarchicalClusterer.html" title="interface in com.aliasi.cluster"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/aliasi/cluster/LatentDirichletAllocation.html" title="class in com.aliasi.cluster"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/aliasi/cluster/KMeansClusterer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KMeansClusterer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
